<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      table {
        border-spacing: 0;
        border-collapse: collapse;
      }
      thead th,
      tbody td {
        border: 1px solid black;
      }
    </style>
  </head>
  <body>
    <table>
      <thead>
        <tr>
          <th>이동</th>
          <th>번호</th>
          <th>이름</th>
          <th>내용</th>
          <th>날짜</th>
        </tr>
      </thead>

      <tbody class="table">
        <tr>
          <td>
            <button onclick="down(this)">↓</button
            ><button onclick="up(this)">↑</button>
          </td>
          <td>1</td>
          <td>홍길자</td>
          <td>안녕!</td>
          <td>2019-01-01</td>
        </tr>
        <tr>
          <td>
            <button onclick="down(this)">↓</button
            ><button onclick="up(this)">↑</button>
          </td>
          <td>2</td>
          <td>이순신</td>
          <td>반가워</td>
          <td>2019-02-01</td>
        </tr>
        <tr>
          <td>
            <button onclick="down(this)">↓</button
            ><button onclick="up(this)">↑</button>
          </td>
          <td>3</td>
          <td>이순신</td>
          <td>반가워</td>
          <td>2019-02-01</td>
        </tr>
        <tr>
          <td>
            <button onclick="down(this)">↓</button
            ><button onclick="up(this)">↑</button>
          </td>
          <td>4</td>
          <td>이순신</td>
          <td>반가워</td>
          <td>2019-02-01</td>
        </tr>
        <tr>
          <td>
            <button onclick="down(this)">↓</button
            ><button onclick="up(this)">↑</button>
          </td>
          <td>5</td>
          <td>이순신</td>
          <td>반가워</td>
          <td>2019-02-01</td>
        </tr>
      </tbody>
    </table>

    <script>
      function down(params) {
        /*  console.dir(params);
        console.log(params);
        console.log(params.parentElement);
        console.log(params.parentElement.nextElementSibling); //부모노드의 다음 형제노드
        console.log(params.parentElement.previousElementSibling); //부모노드의 이전 형제노드
        console.log(params.parentElement.parentElement.children[3]); //부모의 부모의 자식들중 3번째
        console.log(params.parentElement); //반드시 태그 형태만 선택 (Element 이름이 들어간 속성을 사용)
        console.log(params.parentNode); // 혹시 문자열 노드가 있다면 문자열도 포함해서 선택한다.
        console.log(params.parentElement.parentElement.lastElementChild); */
        var table = document.querySelector(".table");
        var current = params.parentElement.parentElement;
        var nt = current.nextElementSibling;

        if (nt === null) {
          alert("다음행이 없습니다.");
          return;
        }
        table.insertBefore(nt, current);
      }
      function up(params) {
        /* 부모태그.insertBefore(삽입할 노드, 기준이 될 노드) 기준 노드 앞에 삽입 노드를 이동*/
        var table = document.querySelector(".table");
        /* 삽입할 노드는 this가 포함된 행.  */
        var current = params.parentElement.parentElement; //tr
        var prev = current.previousElementSibling; // current tr 의 이전 행
        if (prev === null) {
          alert("이전 행이 없습니다");
          return;
        }
        console.log(prev);
        table.insertBefore(current, prev);
      }
    </script>
  </body>
</html>
