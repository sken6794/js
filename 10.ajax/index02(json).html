<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //json 데이터 읽기
      fetch('hi.json')
        .then((response) => {
          return response.json(); //json 형태 파일을 받아서 Object 형식으로 변환
          //return에 적어서 then 콜백이 반환하도록
        })
        .then((data) => {
          //한번 더 then을 적어서 반환된 json promise 객체에서 로그에 출력
          console.log(data);
        });

      //xml 데이터 읽기
      fetch('hi.xml')
        .then((reponse) => {
          return reponse.text(); //일단은 문자열로 변경한다.
        })
        .then((data) => {
          return new DOMParser().parseFromString(data, 'text/html'); //document 객체로 바뀜
        })
        .then((data) => {
          //console.log(data);
          var arr = data.getElementsByTagName('data');
          console.log(arr[2].querySelector('name'));

          for (var i = 0; i < arr.length; i++) {
            console.log(arr[i].getElementsByTagName('name')[0].innerHTML);
          }
        });
    </script>
  </body>
</html>
